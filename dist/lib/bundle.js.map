{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/bullet.js","webpack:///./lib/sound.js","webpack:///./lib/player_tank.js","webpack:///./lib/enemy.js","webpack:///./lib/background.js","webpack:///./lib/item.js","webpack:///./lib/game.js","webpack:///./lib/game_view.js","webpack:///./lib/bg_music.js","webpack:///./lib/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","bullet","[object Object]","ctx","rotation","x","y","score","itemupdate","this","speed","draw","radius","image","Image","imgw","imgh","src","drawImage","updatedir","beginPath","arc","Math","PI","fill","fillStyle","sound","document","createElement","setAttribute","style","display","play","pause","player_tank","tankImg","playerLife","canvasWidth","canvasHeight","w","h","dx","dy","positionX","posE","posY","positionY","dyingTime","transform","time","userAction","save","translate","rotate","restore","length","forEach","push","addEventListener","e","keyCode","shoot","enemy","super","floor","random","ballx","bally","ballSpeed","drawTank","timer","newbullet","playerX","playerY","deletePlayer","background","player","border","currentStage","borderLife","img","onload","font","fillText","row","val","j","bul","bulPos","bordPos","abs","destroyBul","item","game","enemies","stage","life","wid","hei","status","gg","enemyLife","wait","drawEnemy","setup","clearRect","itemConsumed","enemycol","bgconstraint","ggman","gameover","requestAnimationFrame","posP","tankTotank","bulTotank","left","right","top","bot","filter","fillRect","closePath","consumed","destroyEnemy","indexOf","game_view","startg","cleared","description","getElementById","start","animate","bg_music","bgm","bgsound","icon","paused","className","canvas","width","height","getContext","music","intro","musicAction","window"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nclass Bullet{\n  constructor(ctx, rotation, x, y, score, itemupdate) {\n    this.ctx = ctx;\n    this.rotation = rotation;\n    this.x = x;\n    this.y= y;\n    this.speed = 5;\n    this.draw = this.draw.bind(this);\n    this.radius = 2;\n    this.score = score;\n    this.image = new Image();\n    this.imgw = 21;\n    this.imgh = 21;\n    this.itemupdate = itemupdate;\n  }\n\n  draw() {\n\n    if (this.itemupdate) {\n\n      switch (this.rotation) {\n        case 0:\n          this.image.src=\"./asset/bul_top.png\" ;break;\n        case -90:\n          this.image.src=\"./asset/bul_left.png\" ;break;\n        case 90:\n          this.image.src=\"./asset/bul_right.png\" ;break;\n        case 180:\n          this.image.src=\"./asset/bul_bot.png\" ;break;\n      }\n      this.ctx.drawImage(this.image, 0, 0, 255, 255, this.x- 10, this.y - 10, this.imgw, this.imgh);\n      this.updatedir();\n    } else {\n    this.ctx.beginPath();\n    this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI);\n    this.ctx.fill();\n    this.ctx.fillStyle = \"green\";\n    this.updatedir();\n    }\n  }\n\n  destroyBul() {\n    this.radius = 0;\n    this.speed = 0;\n    this.x = 0;\n    this.y = 0;\n    this.imgw = 0;\n    this.imgh = 0;\n  }\n\n  updatedir() {\n    switch (this.rotation) {\n      case 0:\n        this.y -= this.speed; break;\n      case -90:\n        this.x -= this.speed; break;\n      case 90:\n        this.x += this.speed; break;\n      case 180:\n        this.y += this.speed; break;\n    }\n  }\n}\n\nexport default Bullet;\n","class Sound {\n  constructor(src) {\n    this.sound = document.createElement(\"audio\");\n    this.sound.src = src;\n    this.sound.setAttribute(\"preload\", \"auto\");\n    this.sound.setAttribute(\"controls\", \"none\");\n    this.sound.style.display = \"none\";\n  }\n  play() {\n    this.sound.play();\n  }\n\n  stop() {\n    this.sound.pause();\n  }\n}\n\nexport default Sound;\n","import Bullet from './bullet.js'\nimport Sound from './sound.js'\n\nclass PlayerTank {\n  constructor(ctx, tankImg, score, playerLife) {\n    this.ctx = ctx;\n    this.canvasWidth = 500;\n    this.canvasHeight = 500;\n    this.w = 84;\n    this.h = 84;\n    this.x = (this.canvasWidth - this.w/2)/2;\n    this.y = this.canvasHeight - this.h/2;\n    this.dx = 1;\n    this.dy = 1;\n    this.positionX = 1;\n    this.posE = 1;\n    this.posY = 164;\n    this.positionY = 0;\n    this.speed = 10;\n    this.rotation = 0;\n    this.tankImg = tankImg;\n    this.bullet = [];\n    this.score = score;\n    this.playerLife = playerLife;\n    this.dyingTime = 0;\n    this.transform = new Image();\n    this.itemupdate = false;\n    this.time = 1;\n    this.userAction = this.userAction.bind(this);\n  }\n\n  drawTank() {\n      this.ctx.save();\n      this.ctx.translate(this.x, this.y);\n      this.ctx.rotate(this.rotation * Math.PI / 180);\n      this.ctx.drawImage(this.tankImg, this.positionX * this.w, this.positionY, this.w, this.h, -this.w/4, -this.h/4, this.w/2, this.h/2);\n      this.ctx.restore()\n    if (this.bullet.length > 0) {\n      this.bullet.forEach(bullet => {\n        bullet.score = this.score;\n      bullet.draw();\n    });}\n  }\n  shoot() {\n    this.bullet.push(new Bullet(this.ctx, this.rotation, this.x, this.y, this.score, this.itemupdate));\n  }\n\n  deletePlayer() {\n    this.posY = 164;\n    this.ctx.save();\n    this.ctx.translate(this.x, this.y);\n    this.ctx.rotate(this.rotation * Math.PI / 180);\n    this.ctx.drawImage(this.tankImg, this.posE* this.w, this.posY, this.w, this.h,-this.w/4, -this.h/4, this.w/2, this.h/2);\n    this.ctx.restore()\n    for (var i = 0; i < 2; i++) {\n      this.posE++\n    }\n    if (this.posE >= 3) {\n      this.w = 0;\n      this.h = 0;\n      this.posE = 1;\n    }\n\n  }\n\n  userAction() {\n    // requestAnimationFrame(this.userAction)\n    document.addEventListener(\"keydown\", e => {\n      this.speed+= 2;\n      if (this.positionX >= 7) this.positionX = 1;\n      // left\n      if (e.keyCode === 37) {\n        this.positionX++;\n        this.rotation = -90;\n        this.x -= this.speed;\n        if (this.x - this.w/4 < 0) {\n            this.x = this.w/4;\n        }\n      }\n      // right\n      else if (e.keyCode === 39) {\n        this.positionX++;\n        this.rotation = 90;\n        this.x += this.speed;\n        if (this.x > this.canvasWidth - this.w / 4) {\n            this.x = this.canvasWidth - this.w / 4;\n        }\n      }\n      // top\n      else if (e.keyCode === 38) {\n        this.positionX++;\n        this.rotation = 0;\n        this.y -= this.speed;\n\n        if (this.y - this.h/4 < 0) {\n            this.y = this.h / 4;\n        }\n      }\n      // down\n      else if (e.keyCode === 40) {\n        this.positionX++;\n        this.rotation = 180;\n        this.y += this.speed;\n          if (this.y > this.canvasHeight - this.h / 4) {\n              this.y = this.canvasHeight - this.h / 4;\n          }\n      }\n    })\n\n    document.addEventListener(\"keyup\", e => {\n      if (e.keyCode === 32) {\n        this.shoot()\n      }\n      if (e.keyCode === 37) {\n        this.speed = 0;\n\n      }\n      // right\n      else if (e.keyCode === 39) {\n        this.speed = 0;\n\n      }\n      // top\n      else if (e.keyCode === 38) {\n        this.speed = 0;\n\n      }\n      // down\n      else if (e.keyCode === 40) {\n        this.speed = 0;\n\n      }\n    })\n  }\n\n}\n\n\nexport default PlayerTank;\n","import PlayerTank from './player_tank.js';\nimport Bullet from './bullet.js'\n\nclass Enemy extends PlayerTank{\n  constructor(ctx, tankImg) {\n    super();\n    this.positionY = 84;\n    this.positionX = 1;\n    this.x = Math.floor(Math.random() * 400 + 100);\n    this.y = Math.floor(Math.random() * 300) + 35;\n    this.ballx = this.x;\n    this.bally = this.y;\n    this.dy = 5\n    this.speed = 0.5;\n    this.ballSpeed = 10;\n    this.rotation = 180;\n    this.ctx = ctx;\n    this.radius = 2\n    this.tankImg = tankImg;\n    this.drawTank = this.drawTank.call(this);\n    this.timer = 0;\n    this.newbullet = false;\n  }\n\n  drawEnemy(playerX, playerY) {\n    // this.ctx.drawImage(this.tankImg, this.posE* this.w, this.posY, this.w, this.h,-this.w/4, -this.h/4, this.w/2, this.h/2);\n      super.drawTank();\n      this.timer++;\n      if (this.timer === 5) {\n        this.positionX++\n        this.timer = 0;\n      }\n      if (this.positionX > 7) {\n        this.positionX = 1;\n      }\n      this.updatedir(playerX, playerY)\n  }\n\n\n\n  updatedir(playerX, playerY) {\n\n    if (this.w ===0 && this.h === 0) {\n      this.x = -42;\n      this.y = -42;\n    }\n    if (playerY < this.y) {\n      this.rotation = 0;\n      this.y -= this.speed;\n    }\n\n    else if (playerX < this.x) {\n      this.rotation = -90;\n      this.x -= this.speed;\n    }\n\n    if (playerX > this.x) {\n      this.rotation = 90;\n      this.x += this.speed;\n    }\n    else if (playerY > this.y) {\n      this.rotation = 180;\n      this.y += this.speed;\n\n    }\n    if (this.y === playerY) {\n      if(playerX < this.x) {\n        this.rotation = -90;\n      } else {\n        this.rotation = 90;\n      }\n    }\n    if (this.x === playerX) {\n      if(playerY < this.y) {\n        this.rotation = 0;\n      } else {\n        this.rotation = 180;\n      }\n    }\n\n  }\n\n  destroyEnemy() {\n    super.deletePlayer();\n  }\n\n\n}\n\nexport default Enemy;\n","import Sound from './sound.js'\n\n\nclass Background {\n  constructor(ctx, player) {\n    this.ctx = ctx;\n    this.image = new Image();\n    this.w = 84;\n    this.h = 84;\n    this.positionX = 1;\n    this.positionY = this.w * 3;\n    this.sound = new Sound('./asset/explosion.mp3')\n    this.border = [\n      [1,3,3,3,3,3,3,3,3,3,3,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,0,0,0,0,0,0,0,0,0,0,1],\n      [1,3,3,3,3,3,3,3,3,3,3,1],\n    ]\n    this.currentStage = 1;\n    this.image.src = './asset/tank-sprite.png';\n    this.player = player;\n    this.borderLife = 3;\n    const img =  new Image();\n    img.src = './asset/tank.jpg';\n\n    img.onload = () => {\n      this.ctx.font=\"40px Arial Black\";\n      this.ctx.fillStyle = \"#2C4813\"\n      this.ctx.fillText(\"Tank Shooter\",50,90);\n      this.ctx.fillStyle = \"#AC2813\"\n\n      this.ctx.font=\"16px Arial Black\";\n      this.ctx.fillText(\"Press S to start a game\",100,250);\n      this.ctx.fillText(\"Acheive 100 Score to upgrade your bullet\",100,300);\n      this.ctx.fillText(\"Enjoy!\",100,350);\n    }\n  }\n\n  setup() {\n    this.border.forEach((row, i) => {\n      row.forEach((val, j) => {\n        if ((val === 0 || val === 7) && i >= 3 && i <= 7 && j >= 3 && j <= 7) {\n          this.border[i][j] = Math.random() < 0.5 ? 0 : 7;\n        }\n      })\n    })\n  }\n\n  draw() {\n    this.border.forEach((row, i) => {\n      row.forEach((val, j) => {\n        this.player.bullet.forEach(bul => {\n          let bulPos = [bul.x, bul.y];\n          let bordPos = [i* this.w/2, j * this.h/2];\n          if (this.player.x < bordPos[0]) {\n            bordPos[0] += 42\n          }\n          if (this.player.y < bordPos[1]) {\n            bordPos[1] += 42\n          }\n          if ((Math.abs(bulPos[0]- bordPos[0]) < 42 && Math.abs(bulPos[1]- bordPos[1])< 42)) {\n              bordPos[0]\n            if (val === 7) {\n              bul.destroyBul();\n              this.borderLife--;\n              if (this.borderLife === 0) {\n                this.sound.play();\n                this.border[i][j] = 0;\n                this.borderLife = 3\n              }\n            }\n          }\n        })\n        // styles for each border\n        if (val === 1) {\n          this.ctx.drawImage(this.image, val * this.w, this.positionY, this.w, this.h, i * this.w/2, j * this.h/2, this.w/2, this.h/2);\n        }\n        else if (val === 3) {\n          this.ctx.drawImage(this.image, val * this.w, this.positionY, this.w, this.h,i * this.w/2, j * this.h/2, this.w/2, this.h/2);\n        }\n        else if (val === 7) {\n          this.ctx.drawImage(this.image, val * this.w, this.positionY, this.w, this.h,i * this.w/2, j * this.h/2, this.w/2, this.h/2);\n        }\n        else {\n          this.ctx.drawImage(this.image, 0, 0, this.w, this.h,i * this.w/2, j * this.h/2, this.w/2, this.h/2);\n        }\n      })\n    })\n  }\n\n}\n\nexport default Background\n","class Item {\n  constructor(ctx, src) {\n    this.ctx = ctx;\n    this.image = new Image();\n    this.image.src= src;\n    this.x = Math.random() * 300 + 42;\n    this.y = Math.random() * 300 + 42;\n    this.w = 21;\n    this.h = 21;\n  }\n\n  draw() {\n    this.ctx.drawImage(this.image, 0, 0, 255, 255, this.x, this.y, this.w, this.h);\n  }\n\n  drop(x, y) {\n    this.ctx.drawImage(this.image, 0, 0, 255, 255, x, y, this.w, this.h);\n  }\n  consumed() {\n    this.w = 0;\n    this.h = 0;\n  }\n\n\n}\nexport default Item;\n","import PlayerTank from \"./player_tank.js\";\nimport Enemy from \"./enemy.js\";\nimport Background from './background.js';\nimport Item from './item.js';\nimport Sound from './sound.js';\n\nclass Game {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.score = 0;\n    this.tankImg = new Image()\n    this.tankImg.src = \"./asset/tank-sprite.png\";\n    this.player = new PlayerTank(ctx, this.tankImg, this.score, this.playerLife);\n    this.enemies = [];\n    this.draw = this.draw.bind(this);\n    this.stage = 1;\n    this.life = 100;\n    this.wid = 42;\n    this.hei = 42;\n    this.status = true;\n    this.gg = false;\n    this.enemyLife = 3;\n    this.playerLife = 100;\n    this.background = new Background(ctx, this.player);\n    this.wait = 0;\n    this.item = new Item(ctx, \"./asset/bul_top.png\");\n    this.itemupdate = false;\n    this.sound = new Sound(\"./asset/Cannon+1.mp3\")\n  }\n\n  drawEnemy() {\n    for (var i = 0; i < this.stage; i++) {\n      this.enemies.push(new Enemy(this.ctx, this.tankImg))\n    }\n  }\n\n  setup() {\n    this.drawEnemy();\n    this.player.x = 250;\n    this.player.y = 450;\n    this.background.setup();\n  }\n\n  draw() {\n    if (this.status && !this.gg) {\n      this.ctx.clearRect(0,0,500,500);\n      this.background.draw();\n      this.player.drawTank();\n      this.itemConsumed()\n      this.enemycol();\n      this.bgconstraint(this.player);\n      this.ggman()\n      this.gameover();\n      requestAnimationFrame(this.draw);\n    }\n  }\n\n\n  enemycol() {\n    this.enemies.forEach((enemy) => {\n      enemy.drawEnemy(this.player.x, this.player.y);\n      let posP = [this.player.x, this.player.y];\n      let posE = [enemy.x, enemy.y];\n      this.bgconstraint(enemy);\n      this.tankTotank(posP, posE);\n      this.player.bullet.forEach((bul) => {\n        let bulPos = [bul.x, bul.y]\n        this.bulTotank(bulPos, posE, enemy, bul);\n      })\n    })\n  }\n\n  bgconstraint(player) {\n    this.background.border.forEach((row, i) => {\n      row.forEach((val, j) => {\n        let left = i * this.wid;\n        let right = i * this.wid + this.wid;\n        let top = j * this.hei;\n        let bot = j * this.hei + this.hei;\n        let borderPos = [i * this.wid, j * this.hei]\n        if (val !== 0) {\n\n          // so hard to change its collision makes it right\n\n            // (Math.abs(player.y - bot) < 21 && Math.abs(player.x - right) < 21)\n\n            if (Math.abs(player.y - top) < 21 && Math.abs(player.x - left) < 21) {\n              if (player.y < top) {\n                player.y = top - 21;\n              }\n              if (player.x < left) {\n                player.x = left - 21;\n              }\n            }\n            else if (Math.abs(player.y - bot) < 21 && Math.abs(player.x - right) < 21) {\n              if (player.y > bot) {\n                  player.y = bot + 21;\n              }\n              if (player.x > right) {\n                player.x = right + 21;\n              }\n            }\n\n      }\n    })\n  })\n}\n\n  ggman() {\n    if (this.enemies.length > 0) {\n      if (this.enemies.filter(enemy => enemy !== \"\").length === 0) {\n        this.ctx.font=\"30px Acme\";\n        this.ctx.fillStyle = \"#00dc00\"\n        this.ctx.fillText(`Score ${Math.floor(this.score)}`,40,40);\n        this.ctx.fillText(`Player Life ${Math.floor(this.playerLife/10)}`,300,40);\n\n        this.wait++\n        if (this.wait === 80) {\n          this.status = false;\n          this.ctx.clearRect(0,0,500,500);\n          this.ctx.beginPath();\n          this.ctx.fillStyle = \"black\";\n          this.ctx.fillRect(0,0,500,500);\n          this.ctx.font=\"30px Acme\";\n          this.ctx.closePath();\n          this.ctx.fillStyle = \"#00dc00\"\n          this.ctx.fillText(`Stage ${this.stage} cleared`,150,150);\n          this.ctx.fillText(`Press [Enter] to Begin Stage ${this.stage + 1}`,70,250);\n          this.stage = this.stage + 1;\n          this.wait = 0;\n        }\n      }\n    }\n  }\n\n  gameover() {\n    if (this.player.w === 0 && this.player.h === 0) {\n      this.gg = true;\n      delete this.player;\n      this.ctx.clearRect(0,0,500,500);\n      const img = new Image();\n      img.src = './asset/game_over.png'\n      img.onload = () => {\n        this.ctx.drawImage(img,0,0,500,500);\n        this.ctx.font=\"40px Lobster\";\n        this.ctx.fillStyle = \"#a6fbf8\"\n        this.ctx.fillText(`Your Score is ${Math.floor(this.score)}`,120,160);\n\n      }\n    }\n  }\n\n  tankTotank(posP, posE){\n    this.ctx.font=\"30px Acme\";\n    this.ctx.fillStyle = \"#00dc00\"\n    this.ctx.fillText(`Score ${Math.floor(this.score)}`,40,40);\n    this.ctx.fillText(`Player Life ${Math.floor(this.playerLife/10)}`,300,40);\n\n    if( Math.abs(posP[0] - posE[0]) < 42 &&  Math.abs(posP[1] - posE[1]) < 42) {\n      this.playerLife -= 1;\n      this.player.playerLife = this.playerLife;\n      if (this.playerLife === 0) {\n        this.player.deletePlayer();\n      }\n    }\n  }\n\n  itemConsumed() {\n    if (this.stage >= 4) {\n      this.item.draw();\n      if (Math.abs(this.player.x - this.item.x) < 21 &&  Math.abs(this.player.y - this.item.y) < 21) {\n        this.player.itemupdate = true;\n        this.itemupdate = true;\n        this.item.consumed();\n      }\n    }\n  }\n\n\n  bulTotank(posP, posE, enemy, bullet){\n    if( Math.abs(posP[0] - posE[0]) < 42 &&  Math.abs(posP[1] - posE[1]) < 42) {\n      if (this.itemupdate) {\n        this.enemyLife -= 1.5;\n      } else {\n        this.enemyLife -= 1;\n      }\n      bullet.destroyBul();\n\n      if (this.enemyLife === 0) {\n        this.sound.play();\n        this.score += 10;\n        this.player.score = this.score;\n        enemy.destroyEnemy();\n        delete this.enemies[this.enemies.indexOf(enemy)]\n        this.enemyLife = 3;\n      }\n    }\n  }\n\n  animate() {\n    this.player.userAction();\n    document.addEventListener(\"keydown\", (e) => {\n      if (e.keyCode ===13) {\n        this.status = true;\n        this.setup();\n        this.draw();\n      }\n    })\n  }\n}\n\nexport default Game\n","import Game from './game.js'\n\nclass GameView {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.game = new Game(ctx);\n    this.startg = false;\n    this.pause = false;\n    this.cleared = false;\n    this.description = document.getElementById(\"intro\")\n    this.start = this.start.bind(this);\n  }\n  start() {\n    if (!this.pause) {\n      this.game.setup();\n      this.game.draw();\n      this.game.animate();\n    }\n  }\n\n  intro() {\n    this.description;\n    document.addEventListener(\"keydown\", (e) => {\n      if (e.keyCode === 83 && this.startg === false) {\n        this.start();\n        this.startg = true;\n      }\n    })\n\n  }\n\n}\n\nexport default GameView;\n","class Music {\n  constructor(src) {\n    this.bgm = document.getElementById(\"myAudio\");\n    this.bgsound = document.getElementById(\"music-button\")\n    this.icon = document.getElementById(\"icon\")\n  }\n  musicAction() {\n    this.bgsound.addEventListener(\"click\",() => {\n      if (this.bgm.paused) {\n        this.bgm.play()\n        this.icon.className = \"fas fa-volume-up\"\n      }\n      else {\n        this.bgm.pause()\n        this.icon.className = \"fas fa-volume-off\"\n      };\n    })\n  }\n\n\n}\n\nexport default Music\n","import GameView from './game_view.js'\nimport Music from './bg_music.js'\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"MyCanvas\")\n  canvas.width = 500;\n  canvas.height = 500;\n  const ctx = canvas.getContext(\"2d\");\n  const music = new Music\n  const gameview = new GameView(ctx);\n  gameview.intro();\n  music.musicAction();\n})\n\nwindow.onload = function() {\n  document.getElementById(\"myAudio\").play();\n}\n"],"sourceRoot":""}